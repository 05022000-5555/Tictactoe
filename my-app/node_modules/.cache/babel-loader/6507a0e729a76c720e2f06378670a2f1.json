{"ast":null,"code":"import _toConsumableArray from\"F:/ReactJS/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"F:/ReactJS/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer,useState}from'react';import{caculatewinner}from'../../hepper';import Board from'./Board';import\"./GameStyle.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={board:Array(9).fill(null),xIsNext:true};// immutable\nvar gameReducer=function gameReducer(state,action){switch(action.type){case'CLICK':{var board=state.board,xIsNext=state.xIsNext;var _action$payload=action.payload,index=_action$payload.index,winner=_action$payload.winner;if(winner||board[index])return state;var nextState=JSON.parse(JSON.stringify(state));nextState.board[index]=xIsNext?\"X\":\"O\";nextState.xIsNext=!xIsNext;return nextState;}case'RESET':{var _nextState=JSON.parse(JSON.stringify(state));_nextState.board=Array(9).fill(null);_nextState.xIsNext=true;return _nextState;}default:break;}return state;};var Game=function Game(){// const [board, setBoard] = useState(Array(9).fill(null))\n// const [xIsNext, setXIsNext] = useState(true)\nvar _useReducer=useReducer(gameReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// const [state , setState] = useState({\n//     xIsNext: true,\n//     board: Array(9).fill(null),\n// })\nvar winner=caculatewinner(state.board);var handleClick=function handleClick(index){var boardCopy=_toConsumableArray(state.board);// if(winner || boardCopy[index]) return\ndispatch({type:'CLICK',payload:{index:index,winner:winner}});boardCopy[index]=state.xIsNext?\"X\":\"O\";// setState({\n//     board: boardCopy,\n//     xIsNext: !state.xIsNext\n// }\n// )\n// setBoard(boardCopy)\n// setXIsNext(!setXIsNext.xIsNext)\n};var handleReset=function handleReset(){dispatch({type:'RESET'});// setState({\n//     board: Array(9).fill(null),\n//     xIsNext: !state.xIsNext\n// })\n// setBoard(Array(9).fill(null))\n// setXIsNext(true)\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Board,{cells:state.board,onClick:handleClick}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,children:\"Reset game\"}),/*#__PURE__*/_jsx(\"span\",{className:\"winner\",children:winner?\"Winner is \".concat(winner||\"\"):\"\"})]});};export default Game;","map":{"version":3,"names":["React","useReducer","useState","caculatewinner","Board","initialState","board","Array","fill","xIsNext","gameReducer","state","action","type","payload","index","winner","nextState","JSON","parse","stringify","Game","dispatch","handleClick","boardCopy","handleReset"],"sources":["F:/ReactJS/my-app/src/Components/tictactoe/Game.js"],"sourcesContent":["import React, { useReducer, useState } from 'react';\r\nimport { caculatewinner } from '../../hepper';\r\nimport Board from './Board';\r\nimport \"./GameStyle.css\"\r\nconst initialState = {\r\n    board: Array(9).fill(null),\r\n    xIsNext: true\r\n}\r\n// immutable\r\nconst gameReducer = (state, action) =>{\r\n    switch (action.type) {\r\n        case 'CLICK':{\r\n            const {board, xIsNext} = state\r\n            const {index, winner} = action.payload\r\n            if(winner || board[index]) return state\r\n            const nextState = JSON.parse(JSON.stringify(state))\r\n            nextState.board[index] = xIsNext ? \"X\" : \"O\"\r\n            nextState.xIsNext = !xIsNext\r\n            return nextState\r\n        }\r\n        case 'RESET':{\r\n            const nextState = JSON.parse(JSON.stringify(state));\r\n            nextState.board = Array(9).fill(null)\r\n            nextState.xIsNext = true\r\n            return nextState\r\n        }\r\n        default:\r\n            break;\r\n\r\n    }\r\n    return state\r\n}\r\nconst Game = () => {\r\n    // const [board, setBoard] = useState(Array(9).fill(null))\r\n    // const [xIsNext, setXIsNext] = useState(true)\r\n    const [state, dispatch] = useReducer(gameReducer,initialState);\r\n    // const [state , setState] = useState({\r\n    //     xIsNext: true,\r\n    //     board: Array(9).fill(null),\r\n    // })\r\n    const winner = caculatewinner(state.board);\r\n    const handleClick = (index)=>{\r\n        const boardCopy = [...state.board]\r\n        // if(winner || boardCopy[index]) return\r\n        dispatch({\r\n            type: 'CLICK',\r\n            payload: {\r\n                index,\r\n                winner,\r\n            }\r\n        })\r\n        boardCopy[index] = state.xIsNext ? \"X\" : \"O\";\r\n        // setState({\r\n        //     board: boardCopy,\r\n        //     xIsNext: !state.xIsNext\r\n        // }\r\n        // )\r\n        // setBoard(boardCopy)\r\n        // setXIsNext(!setXIsNext.xIsNext)\r\n    }\r\n    const handleReset = ()=>{\r\n        dispatch({\r\n            type: 'RESET',\r\n\r\n        })\r\n        // setState({\r\n        //     board: Array(9).fill(null),\r\n        //     xIsNext: !state.xIsNext\r\n        // })\r\n        // setBoard(Array(9).fill(null))\r\n        // setXIsNext(true)\r\n    }\r\n    return (\r\n        <div>\r\n            <Board cells={state.board} onClick={handleClick}></Board>\r\n            <button onClick={handleReset}>Reset game</button>\r\n            <span className='winner'>{winner ? `Winner is ${winner || \"\"}` : \"\"}</span>\r\n        </div>\r\n    );\r\n};\r\nexport default Game;"],"mappings":"sNAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,cAAT,KAA+B,cAA/B,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAO,iBAAP,C,wFACA,GAAMC,aAAY,CAAG,CACjBC,KAAK,CAAEC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CADU,CAEjBC,OAAO,CAAE,IAFQ,CAArB,CAIA;AACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAQC,MAAR,CAAkB,CAClC,OAAQA,MAAM,CAACC,IAAf,EACI,IAAK,OAAL,CAAa,CACT,GAAOP,MAAP,CAAyBK,KAAzB,CAAOL,KAAP,CAAcG,OAAd,CAAyBE,KAAzB,CAAcF,OAAd,CACA,oBAAwBG,MAAM,CAACE,OAA/B,CAAOC,KAAP,iBAAOA,KAAP,CAAcC,MAAd,iBAAcA,MAAd,CACA,GAAGA,MAAM,EAAIV,KAAK,CAACS,KAAD,CAAlB,CAA2B,MAAOJ,MAAP,CAC3B,GAAMM,UAAS,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeT,KAAf,CAAX,CAAlB,CACAM,SAAS,CAACX,KAAV,CAAgBS,KAAhB,EAAyBN,OAAO,CAAG,GAAH,CAAS,GAAzC,CACAQ,SAAS,CAACR,OAAV,CAAoB,CAACA,OAArB,CACA,MAAOQ,UAAP,CACH,CACD,IAAK,OAAL,CAAa,CACT,GAAMA,WAAS,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeT,KAAf,CAAX,CAAlB,CACAM,UAAS,CAACX,KAAV,CAAkBC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CAAlB,CACAS,UAAS,CAACR,OAAV,CAAoB,IAApB,CACA,MAAOQ,WAAP,CACH,CACD,QACI,MAjBR,CAoBA,MAAON,MAAP,CACH,CAtBD,CAuBA,GAAMU,KAAI,CAAG,QAAPA,KAAO,EAAM,CACf;AACA;AACA,gBAA0BpB,UAAU,CAACS,WAAD,CAAaL,YAAb,CAApC,4CAAOM,KAAP,iBAAcW,QAAd,iBACA;AACA;AACA;AACA;AACA,GAAMN,OAAM,CAAGb,cAAc,CAACQ,KAAK,CAACL,KAAP,CAA7B,CACA,GAAMiB,YAAW,CAAG,QAAdA,YAAc,CAACR,KAAD,CAAS,CACzB,GAAMS,UAAS,oBAAOb,KAAK,CAACL,KAAb,CAAf,CACA;AACAgB,QAAQ,CAAC,CACLT,IAAI,CAAE,OADD,CAELC,OAAO,CAAE,CACLC,KAAK,CAALA,KADK,CAELC,MAAM,CAANA,MAFK,CAFJ,CAAD,CAAR,CAOAQ,SAAS,CAACT,KAAD,CAAT,CAAmBJ,KAAK,CAACF,OAAN,CAAgB,GAAhB,CAAsB,GAAzC,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAlBD,CAmBA,GAAMgB,YAAW,CAAG,QAAdA,YAAc,EAAI,CACpBH,QAAQ,CAAC,CACLT,IAAI,CAAE,OADD,CAAD,CAAR,CAIA;AACA;AACA;AACA;AACA;AACA;AACH,CAXD,CAYA,mBACI,oCACI,KAAC,KAAD,EAAO,KAAK,CAAEF,KAAK,CAACL,KAApB,CAA2B,OAAO,CAAEiB,WAApC,EADJ,cAEI,eAAQ,OAAO,CAAEE,WAAjB,wBAFJ,cAGI,aAAM,SAAS,CAAC,QAAhB,UAA0BT,MAAM,qBAAgBA,MAAM,EAAI,EAA1B,EAAiC,EAAjE,EAHJ,GADJ,CAOH,CA/CD,CAgDA,cAAeK,KAAf"},"metadata":{},"sourceType":"module"}